T = 0.01S
KP = 1
KI  =35
KD = 0.0045
很好。、

T = 0.01S
KP = 1
KI  =35
KD = 0.0045
很好。


比例系数P ：反应系统当前最基本的误差，是I和D的基础。系数大，可以加快调节，减小误差，但是过大的比例使系统稳定性下降，甚至造成系统的不稳定。过小的话又会使响应变慢。

积分系数I ：反应系统的累计误差，使系统消除稳态误差，提高无差度，只要有误差，积分调节就会起作用。同时也会增加响应速度，产生过冲，过大会产生振荡。

微分系数D ：反应系统误差的变化率，具有预见性，们可以预见偏差的变化趋势，产生超前的控制效果。D抑制过冲和振荡，过小系统会过冲，过大会减慢响应速度。D的另外一个作用是抵抗外界的突发干扰，阻止系统的突变。


但是一般我们只用PI控制器就能满足大部分系统的控制。比如APM的PID参数。


PID参数的整定方式：
1、理论计算法：采用被控对象的准确模型进行数学建模。
2、工程整定法：不依赖被控对象的数学模型，直接在控制系统中进行现场整定，也就是现场调试。



试验中，我一共选取了三组具有代表性的数据给大家展示。
1、只有比例调节，KP = 5，此时系统最终可以稳定，但是震荡时间稍长，超调过大。
2、在有比例系数的作用下，太大的积分时间TI，导致过小的积分系数KP，此时积分项的作用比较微弱，相当于仅有比例系数在调节了，无法消除稳态误差。
3、太小的积分时间TI，导致过大的积分系数KI，此时，只要系统有微小的误差，积分作用就会起很强作用，导致系统不稳定，并且过冲比较严重。

最后，展示相对上面，PI参数比较理想的状态，但是请注意这只是相对来说，我试了很多参数，发现很多组参数的情况都大致相同，所以最佳情况的参数不是固定的。

我小车最终并没有很稳定的原因：
TT马达质量不是很好。
单片机运算速度的限制。

KP --- >   KI

PID运算周期的确定
不能太小，不然会增加cCPU的运算负担。也不能太大，不然会丢失很多有效的数据。工程中一般根据传感器采集周期的3-5倍作为PID的运算周期




